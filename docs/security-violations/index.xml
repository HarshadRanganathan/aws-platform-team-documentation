<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Security Violations on</title><link>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/</link><description>Recent content in Security Violations on</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Fri, 22 Jul 2022 12:26:14 +0100</lastBuildDate><atom:link href="https://aws-platform-team-documentation.rharshad.com/docs/security-violations/index.xml" rel="self" type="application/rss+xml"/><item><title>Instance Metadata</title><link>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/instance-metadata/</link><pubDate>Fri, 22 Jul 2022 12:53:06 +0100</pubDate><guid>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/instance-metadata/</guid><description>To block Instance Metadata v1 from being by an EC2 instance post creation, run below command:
aws ec2 modify-instance-metadata-options --instance-id ${INSTANCE_ID} --http-tokens required --http-endpoint enabled</description></item><item><title>Disk Encryption</title><link>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/disk-encryption/</link><pubDate>Fri, 22 Jul 2022 12:54:40 +0100</pubDate><guid>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/disk-encryption/</guid><description>EMR # To encrypt the disk for EMR workloads, perform following actions:
[1] Create a new CMK KMS key to be used for encryption with below policy (substituting with your account id):
{ &amp;quot;Id&amp;quot;: &amp;quot;encryption-policy&amp;quot;, &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;, &amp;quot;Statement&amp;quot;: [ { &amp;quot;Sid&amp;quot;: &amp;quot;Enable IAM User Permissions&amp;quot;, &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;, &amp;quot;Principal&amp;quot;: { &amp;quot;AWS&amp;quot;: &amp;quot;arn:aws:iam::&amp;lt;account-id&amp;gt;:root&amp;quot; }, &amp;quot;Action&amp;quot;: &amp;quot;kms:*&amp;quot;, &amp;quot;Resource&amp;quot;: &amp;quot;*&amp;quot; }, { &amp;quot;Sid&amp;quot;: &amp;quot;Allow use of the key&amp;quot;, &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;, &amp;quot;Principal&amp;quot;: { &amp;quot;AWS&amp;quot;: [ &amp;quot;arn:aws:iam::&amp;lt;account-id&amp;gt;:role/EMR_EC2_DefaultRole&amp;quot; ] }, &amp;quot;Action&amp;quot;: [ &amp;quot;kms:Encrypt&amp;quot;, &amp;quot;kms:Decrypt&amp;quot;, &amp;quot;kms:ReEncrypt*&amp;quot;, &amp;quot;kms:GenerateDataKey*&amp;quot;, &amp;quot;kms:DescribeKey&amp;quot; ], &amp;quot;Resource&amp;quot;: &amp;quot;*&amp;quot; }, { &amp;quot;Sid&amp;quot;: &amp;quot;Allow attachment of persistent resources&amp;quot;, &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;, &amp;quot;Principal&amp;quot;: { &amp;quot;AWS&amp;quot;: [ &amp;quot;arn:aws:iam::&amp;lt;account-id&amp;gt;:role/EMR_EC2_DefaultRole&amp;quot; ] }, &amp;quot;Action&amp;quot;: [ &amp;quot;kms:CreateGrant&amp;quot;, &amp;quot;kms:ListGrants&amp;quot;, &amp;quot;kms:RevokeGrant&amp;quot; ], &amp;quot;Resource&amp;quot;: &amp;quot;*&amp;quot;, &amp;quot;Condition&amp;quot;: { &amp;quot;Bool&amp;quot;: { &amp;quot;kms:GrantIsForAWSResource&amp;quot;: &amp;quot;true&amp;quot; } } } ] } [2] Create a new EMR security configuration with below configuration (substitute with kms key you had created previously):</description></item><item><title>CVE</title><link>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/cve/</link><pubDate>Fri, 22 Jul 2022 12:55:52 +0100</pubDate><guid>https://aws-platform-team-documentation.rharshad.com/docs/security-violations/cve/</guid><description>If any security vulnerabilities are being reported for any EC2 instances, similar to below,
CVE-2020-27619 - python, python-devel and 4 more CVE-2021-33574 - glibc-minimal-langpack, glibc-devel and 6 more CVE-2022-1154 - vim-minimal, vim-common and 2 more CVE-2022-22965 - org.springframework:spring-webmvc CVE-2021-22945 - libcurl, curl then we&amp;rsquo;d need to update the libraries within the EC2 instance. To do that, SSH into the EC2 instance, and run below command:
sudo yum update -y which updates all the libraries to the latest version and will resolve all of the security vulnerabilities.</description></item></channel></rss>